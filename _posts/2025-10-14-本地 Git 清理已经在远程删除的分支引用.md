---
layout:     post
title:      本地 Git 清理已经在远程删除的分支引用
subtitle:   本地 Git 清理已经在远程删除的分支引用
date:       2024-10-14
author:     Yzi321
header-img: img/post-bg-keybord.jpg
catalog: true
tags:
    - Git
---

# 问题
远程删除了分支，但是在 VS 仓库里依旧能看到远程分支，这其实是陈旧引用（stale reference）。

# 解决办法

## 1.清理所有在远程不存在的分支引用

```bash
git fetch -p
git fetch --prune
```
执行完后, 本地的 origin/feature/old_branch 就会被自动移除, 不会影响当前本地自己创建的分支。


## 2.自动清除配置

让 Git 每次 fetch 都自动清理：
```bash
git config --global fetch.prune true
```
这样每次执行 git fetch 时，都会自动清理远程已删除的分支引用。